<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="kadai/js/jquery-2.1.3.min.js"></script>

</head>

<body>
  tweet: <input type="text" id="text">
  username: <input type="text" id="username">
  <button id="tweet">保存</button>
  <ul id="tweets">
  </ul>
  <script>

    // tweetのデータの配列を入力してデータをタグに入れた配列を出力する関数
    function tweetElements(tweets) {
      const tweetElements = [];
      for (let i = 0; i < tweets.length; i++) {
        tweetElements.push('<li>' + tweets[i].username + ': ' + tweets[i].tweet + ' ' + tweets[i].tweeted_at + '</li>');
      }
      return tweetElements;
    }

    const tweets = [];
    // tweetボタンをクリックしたら入力されたテキストを取得する
    $('#tweet').on('click', function () {
      const tweet = $('#text').val();
      const username = $('#username').val();
      const tweetData = {
        tweet: tweet,
        username: username,
        tweeted_at: (new Date()).toString(),
      }
      // 取得したTweetを配列に追加する
      tweets.push(tweetData);
      console.log(tweets);
      // 配列に保存されたtweetを画面に表示する
      const elements = tweetElements(tweets);
      console.log(elements);
      $('#tweets').html(elements);
    });


  </script>
</body>

</html>